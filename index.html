<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon.png">
    <link rel="apple-touch-icon" href="icons/icon.png">
    <meta name="apple-mobile-web-app-title" content="Ariana Messenger">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Ariana Messenger</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html, body { 
        overscroll-behavior: none;
        overflow: hidden; 
        height: 100%;
        width: 100%;
        position: fixed;
      }
      #messages-container::-webkit-scrollbar, #message-input::-webkit-scrollbar { display: none; }
      #messages-container, #message-input { -ms-overflow-style: none; scrollbar-width: none; }
      .view-hidden { display: none !important; }
      .glass-modal {
        background-color: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(16px) saturate(180%);
        -webkit-backdrop-filter: blur(16px) saturate(180%);
      }
      .glass-button-red { background-color: rgba(239, 68, 68, 0.7); }
      .glass-button-gray { background-color: rgba(255, 255, 255, 0.5); }
      body.font-size-sm .message-text { font-size: 14px; }
      body.font-size-md .message-text { font-size: 16px; }
      body.font-size-lg .message-text { font-size: 18px; }
      
      .persistent-hover-bg {
        position: relative;
        z-index: 0;
      }
      .persistent-hover-bg::after {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 0.75rem; /* rounded-xl */
          background-color: rgb(209 213 219 / 0.3);
          transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1);
          z-index: -1;
      }
      .persistent-hover-bg:active::after {
          background-color: rgb(209 213 219 / 0.6);
      }
      @media (hover: hover) and (pointer: fine) {
          .persistent-hover-bg:hover::after {
              background-color: rgb(209 213 219 / 0.6);
          }
      }
    </style>
<script type="importmap">
{
  "imports": {
    "vite": "https://aistudiocdn.com/vite@^7.1.12",
    "path": "https://aistudiocdn.com/path@^0.12.7",
    "url": "https://aistudiocdn.com/url@^0.11.4"
  }
}
</script>
</head>
  <body class="bg-gray-200 font-sans font-size-md">
    <!-- Background Container -->
    <div id="app-background" class="fixed inset-0 -z-10 h-full w-full bg-sky-100 overflow-hidden">
        <!-- Background is controlled by JS -->
    </div>

    <!-- Main App Container -->
    <div class="w-full h-full max-w-md mx-auto bg-transparent sm:rounded-3xl overflow-hidden flex flex-col sm:h-[95vh] sm:my-[2.5vh]">
        
        <!-- Global Top Navigation -->
        <div id="global-nav" class="px-2 h-20 flex-shrink-0 z-10 flex items-center justify-center">
          <div class="glass-modal w-full h-16 rounded-3xl flex items-center justify-around px-2 shadow-lg">
              <button id="nav-chat-btn" class="nav-btn transition-all duration-300 ease-in-out flex items-center justify-center p-1 transform text-gray-600">
                  <svg class="h-11" viewBox="0 0 120 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M32.5818 35.593C32.9151 35.5929 33.2354 35.7112 33.4752 35.9231C35.0411 37.3064 37.3254 37.767 39.356 37.1905C38.0491 34.6998 37.868 31.8464 38.8808 29.2044C40.1376 25.9172 40.4525 22.6225 39.0222 19.3181C37.7655 16.4153 35.3405 14.0036 32.2715 12.6283C32.4609 13.554 32.556 14.4938 32.5554 15.4356C32.5555 19.4603 30.8638 23.2457 27.7922 26.0944C24.7202 28.9436 20.6023 30.5456 16.1971 30.6055C15.3818 30.617 14.5667 30.5737 13.7583 30.476C16.1793 34.3584 20.7454 36.8869 25.7629 36.9549C27.9578 36.986 30.0653 36.5653 32.028 35.7078C32.2009 35.6322 32.3902 35.593 32.5818 35.593Z" fill="currentColor"/>
                    <path d="M16.2342 2.61462C8.41941 2.47266 1.92318 8.25625 1.90434 15.4039C1.89972 17.1502 2.27234 18.8434 3.01193 20.4365C3.02267 20.4597 3.03266 20.4831 3.0417 20.5069C4.05442 23.1489 3.87343 26.0023 2.56648 28.493C4.59729 29.0693 6.88125 28.609 8.4473 27.2255C8.63579 27.059 8.87541 26.9492 9.13406 26.9107C9.3927 26.8723 9.65801 26.907 9.89444 27.0104C11.8568 27.8678 13.9646 28.2898 16.1595 28.2576C23.9131 28.1522 29.9867 22.5201 29.9866 15.4354C29.9867 8.50543 23.8173 2.75408 16.2342 2.61462ZM8.45578 17.3506C7.33301 17.3506 6.4228 16.5193 6.4228 15.4939C6.4228 14.4685 7.33301 13.6372 8.45578 13.6372C9.57854 13.6372 10.4887 14.4685 10.4887 15.4939C10.4887 16.5193 9.57854 17.3506 8.45578 17.3506ZM15.9455 17.3506C14.8227 17.3506 13.9125 16.5193 13.9125 15.4939C13.9125 14.4685 14.8227 13.6372 15.9455 13.6372C17.0683 13.6372 17.9785 14.4685 17.9785 15.4939C17.9785 16.5193 17.0683 17.3506 15.9455 17.3506ZM23.4353 17.3506C22.3126 17.3506 21.4023 16.5193 21.4023 15.4939C21.4023 14.4685 22.3126 13.6372 23.4353 13.6372C24.5581 13.6372 25.4683 14.4685 25.4683 15.4939C25.4683 16.5193 25.4581 17.3506 23.4353 17.3506Z" fill="currentColor"/>
                    <path d="M68.7541 18.6578C68.6426 18.226 68.4894 17.8291 68.2944 17.4669C68.0994 17.1048 67.8487 16.7914 67.5423 16.5267C67.2358 16.2621 66.8737 16.0601 66.4558 15.9208C66.0519 15.7676 65.5783 15.691 65.0351 15.691C64.2411 15.691 63.5517 15.8512 62.9667 16.1715C62.3956 16.4919 61.929 16.9237 61.5668 17.4669C61.2047 17.9962 60.9331 18.6021 60.752 19.2846C60.5849 19.9671 60.5013 20.6636 60.5013 21.3739C60.5013 22.0843 60.5849 22.7807 60.752 23.4632C60.9331 24.1457 61.2047 24.7586 61.5668 25.3018C61.929 25.8311 62.3956 26.2559 62.9667 26.5763C63.5517 26.8967 64.2411 27.0568 65.0351 27.0568C65.6201 27.0568 66.1355 26.9593 66.5812 26.7643C67.0269 26.5554 67.4099 26.2768 67.7303 25.9286C68.0507 25.5665 68.3014 25.1486 68.4824 24.675C68.6635 24.2015 68.7819 23.6931 68.8376 23.1498H71.3866C71.3309 24.0413 71.1359 24.8561 70.8016 25.5943C70.4812 26.3326 70.0425 26.9733 69.4853 27.5165C68.9282 28.0458 68.2735 28.4567 67.5214 28.7492C66.7692 29.0417 65.9405 29.1879 65.0351 29.1879C63.9208 29.1879 62.9179 28.986 62.0265 28.582C61.149 28.1642 60.4038 27.6001 59.7909 26.8897C59.1781 26.1793 58.7045 25.3506 58.3702 24.4034C58.0498 23.4563 57.8896 22.4464 57.8896 21.3739C57.8896 20.3153 58.0498 19.3125 58.3702 18.3653C58.7045 17.4182 59.1781 16.5894 59.7909 15.879C60.4038 15.1687 61.149 14.6046 62.0265 14.1867C62.9179 13.7688 63.9208 13.5599 65.0351 13.5599C65.8708 13.5599 66.6578 13.6783 67.396 13.9151C68.1342 14.1379 68.7819 14.4722 69.3391 14.918C69.9101 15.3497 70.3698 15.879 70.718 16.5058C71.0662 17.1326 71.2821 17.85 71.3657 18.6578H68.7541ZM73.4274 13.9151H75.8092V19.4518H75.851C76.1435 18.9642 76.5753 18.5603 77.1464 18.24C77.7314 17.9057 78.3791 17.7385 79.0895 17.7385C80.2734 17.7385 81.2066 18.045 81.8891 18.6578C82.5716 19.2707 82.9129 20.19 82.9129 21.4157V28.8328H80.5311V22.0425C80.5032 21.1928 80.3222 20.58 79.9879 20.2039C79.6536 19.8139 79.1312 19.6189 78.4209 19.6189C78.0169 19.6189 77.6548 19.6955 77.3344 19.8487C77.0141 19.988 76.7425 20.19 76.5196 20.4546C76.2967 20.7053 76.1226 21.0048 75.9973 21.353C75.8719 21.7012 75.8092 22.0704 75.8092 22.4604V28.8328H73.4274V13.9151ZM94.4714 26.4301C94.4714 26.7226 94.5062 26.9315 94.5758 27.0568C94.6594 27.1822 94.8126 27.2449 95.0355 27.2449C95.1051 27.2449 95.1887 27.2449 95.2862 27.2449C95.3837 27.2449 95.4951 27.231 95.6205 27.2031V28.8537C95.5369 28.8815 95.4255 28.9094 95.2862 28.9372C95.1608 28.979 95.0285 29.0138 94.8892 29.0417C94.7499 29.0696 94.6106 29.0904 94.4714 29.1044C94.3321 29.1183 94.2137 29.1253 94.1162 29.1253C93.6287 29.1253 93.2247 29.0278 92.9044 28.8328C92.584 28.6378 92.3751 28.2965 92.2776 27.809C91.804 28.2686 91.219 28.6029 90.5226 28.8119C89.8401 29.0208 89.1784 29.1253 88.5377 29.1253C88.0502 29.1253 87.5836 29.0556 87.1379 28.9163C86.6922 28.791 86.2952 28.6029 85.947 28.3522C85.6127 28.0876 85.3411 27.7603 85.1321 27.3702C84.9371 26.9663 84.8396 26.4997 84.8396 25.9704C84.8396 25.3018 84.958 24.7586 85.1948 24.3407C85.4455 23.9229 85.7659 23.5956 86.1559 23.3588C86.5598 23.122 87.0056 22.9548 87.4931 22.8573C87.9945 22.7459 88.4959 22.6623 88.9974 22.6066C89.4292 22.523 89.8401 22.4673 90.2301 22.4395C90.6201 22.3977 90.9613 22.335 91.2538 22.2514C91.5603 22.1679 91.797 22.0425 91.9642 21.8754C92.1453 21.6943 92.2358 21.4296 92.2358 21.0814C92.2358 20.775 92.1592 20.5243 92.006 20.3293C91.8667 20.1343 91.6856 19.988 91.4628 19.8905C91.2538 19.7791 91.017 19.7094 90.7524 19.6816C90.4877 19.6398 90.237 19.6189 90.0002 19.6189C89.3317 19.6189 88.7815 19.7582 88.3497 20.0368C87.9179 20.3153 87.6741 20.7471 87.6184 21.3321H85.2366C85.2784 20.6357 85.4455 20.0577 85.738 19.598C86.0305 19.1384 86.3997 18.7692 86.8454 18.4907C87.305 18.2121 87.8204 18.0171 88.3915 17.9057C88.9625 17.7942 89.5475 17.7385 90.1465 17.7385C90.6758 17.7385 91.1981 17.7942 91.7135 17.9057C92.2288 18.0171 92.6885 18.1982 93.0924 18.4489C93.5103 18.6996 93.8446 19.0269 94.0953 19.4309C94.346 19.8209 94.4714 20.3014 94.4714 20.8725V26.4301ZM92.0895 23.4214C91.7274 23.6582 91.2817 23.8045 90.7524 23.8602C90.2231 23.902 89.6938 23.9716 89.1645 24.0691C88.9138 24.1109 88.67 24.1736 88.4332 24.2572C88.1965 24.3268 87.9875 24.4313 87.8065 24.5706C87.6254 24.6959 87.4791 24.87 87.3677 25.0929C87.2702 25.3018 87.2214 25.5595 87.2214 25.8659C87.2214 26.1306 87.2981 26.3534 87.4513 26.5345C87.6045 26.7156 87.7856 26.8618 87.9945 26.9733C88.2174 27.0708 88.4541 27.1404 88.7049 27.1822C88.9695 27.224 89.2063 27.2449 89.4152 27.2449C89.6799 27.2449 89.9654 27.2101 90.2718 27.1404C90.5783 27.0708 90.8638 26.9524 91.1285 26.7852C91.407 26.6181 91.6369 26.4092 91.8179 26.1584C91.999 25.8938 92.0895 25.5734 92.0895 25.1974V23.4214ZM95.9478 18.031H97.7446V14.7926H100.126V18.031H102.278V19.8069H100.126V25.5734C100.126 25.8242 100.133 26.0401 100.147 26.2211C100.175 26.4022 100.224 26.5554 100.294 26.6808C100.377 26.8061 100.495 26.9036 100.649 26.9733C100.802 27.029 101.011 27.0568 101.275 27.0568C101.443 27.0568 101.61 27.0568 101.777 27.0568C101.944 27.0429 102.111 27.0151 102.278 26.9733V28.8119C102.014 28.8397 101.756 28.8676 101.505 28.8954C101.255 28.9233 100.997 28.9372 100.732 28.9372C100.105 28.9372 99.5971 28.8815 99.2071 28.7701C98.831 28.6447 98.5315 28.4706 98.3087 28.2478C98.0997 28.011 97.9535 27.7185 97.8699 27.3702C97.8003 27.022 97.7585 26.6251 97.7446 26.1793V19.8069H95.9478V18.031ZM105.789 25.3645C105.858 26.0609 106.123 26.5485 106.583 26.827C107.042 27.1056 107.592 27.2449 108.233 27.2449C108.456 27.2449 108.707 27.231 108.985 27.2031C109.278 27.1613 109.549 27.0917 109.8 26.9942C110.051 26.8967 110.253 26.7574 110.406 26.5763C110.573 26.3813 110.65 26.1306 110.636 25.8242C110.622 25.5177 110.51 25.267 110.301 25.072C110.093 24.877 109.821 24.7238 109.487 24.6124C109.166 24.487 108.797 24.3825 108.379 24.299C107.961 24.2154 107.537 24.1248 107.105 24.0273C106.659 23.9298 106.227 23.8115 105.809 23.6722C105.406 23.5329 105.036 23.3448 104.702 23.1081C104.382 22.8713 104.124 22.5718 103.929 22.2096C103.734 21.8336 103.637 21.3739 103.637 20.8307C103.637 20.2457 103.776 19.7582 104.054 19.3682C104.347 18.9642 104.709 18.6439 105.141 18.4071C105.587 18.1564 106.074 17.9823 106.603 17.8848C107.147 17.7873 107.662 17.7385 108.149 17.7385C108.707 17.7385 109.236 17.8012 109.737 17.9266C110.253 18.038 110.712 18.226 111.116 18.4907C111.534 18.7553 111.875 19.1035 112.14 19.5353C112.419 19.9532 112.593 20.4616 112.662 21.0605H110.176C110.065 20.4894 109.8 20.1064 109.382 19.9114C108.978 19.7164 108.512 19.6189 107.982 19.6189C107.815 19.6189 107.613 19.6328 107.376 19.6607C107.154 19.6885 106.938 19.7443 106.729 19.8278C106.534 19.8975 106.367 20.0089 106.227 20.1621C106.088 20.3014 106.018 20.4894 106.018 20.7262C106.018 21.0187 106.116 21.2555 106.311 21.4366C106.52 21.6177 106.784 21.7709 107.105 21.8963C107.439 22.0077 107.815 22.1052 108.233 22.1888C108.651 22.2723 109.083 22.3629 109.528 22.4604C109.96 22.5579 110.385 22.6763 110.803 22.8155C111.221 22.9548 111.59 23.1429 111.91 23.3797C112.245 23.6164 112.509 23.9159 112.704 24.2781C112.913 24.6402 113.018 25.0859 113.018 25.6152C113.018 26.2559 112.871 26.7992 112.579 27.2449C112.286 27.6906 111.903 28.0528 111.43 28.3313C110.97 28.6099 110.455 28.8119 109.884 28.9372C109.313 29.0626 108.748 29.1253 108.191 29.1253C107.509 29.1253 106.875 29.0487 106.29 28.8954C105.719 28.7422 105.217 28.5124 104.786 28.206C104.368 27.8856 104.034 27.4956 103.783 27.036C103.546 26.5624 103.421 26.0052 103.407 25.3645H105.789Z" fill="currentColor"/>
                  </svg>
              </button>
              <button id="nav-studio-btn" class="nav-btn h-12 w-12 rounded-full flex flex-col items-center justify-center transition-all duration-300 ease-in-out p-1 text-gray-800">
                   <svg class="w-6 h-6" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M0 4.97455C0 3.65522 0.524103 2.38992 1.45701 1.45701C2.38992 0.524103 3.65522 0 4.97455 0H7.24958C8.67562 0 9.91925 0.971696 10.2658 2.35462L12.0981 9.68877C12.2466 10.2824 12.2166 10.9066 12.0119 11.4833C11.8072 12.0599 11.4369 12.5634 10.9473 12.9305L8.8033 14.539C8.57944 14.7064 8.53135 14.9518 8.59437 15.1226C9.53021 17.6677 11.008 19.979 12.9255 21.8964C14.8429 23.8138 17.1542 25.2916 19.6992 26.2275C19.87 26.2905 20.1138 26.2424 20.2829 26.0186L21.8913 23.8745C22.2585 23.385 22.7619 23.0147 23.3386 22.81C23.9152 22.6053 24.5395 22.5753 25.1331 22.7237L32.4672 24.556C33.8502 24.9026 34.8219 26.1462 34.8219 27.5739V29.8473C34.8219 31.1666 34.2977 32.4319 33.3648 33.3648C32.4319 34.2977 31.1666 34.8219 29.8473 34.8219H26.1164C11.6935 34.8219 0 23.1283 0 8.70546V4.97455Z" fill="currentColor"></path>
                  </svg>
                  <span class="text-xs mt-1 font-semibold">Phone</span>
              </button>
              <button id="settings-btn" class="nav-btn h-12 w-12 rounded-full flex flex-col items-center justify-center transition-all duration-300 ease-in-out p-1 text-gray-800">
                   <svg class="w-6 h-6" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M27.8959 15.1913C28.1568 16.0138 27.4875 16.7833 26.6253 16.7833H20.0739C19.8248 16.7835 19.5801 16.718 19.3644 16.5935C19.1486 16.4691 18.9695 16.29 18.8449 16.0743L15.5702 10.4021C15.1372 9.65336 15.47 8.6872 16.3132 8.5038C18.73 7.97546 21.2569 8.36821 23.3993 9.60516C25.5416 10.8421 27.1451 12.8342 27.8959 15.1913ZM11.0986 11.5176C11.6791 10.8786 12.683 11.0733 13.1141 11.8201L16.3889 17.4923C16.5133 17.7079 16.5789 17.9524 16.5789 18.2014C16.5789 18.4503 16.5133 18.6948 16.3889 18.9104L13.1141 24.5826C12.6812 25.3332 11.6772 25.5279 11.0967 24.887C9.42844 23.0612 8.50492 20.6765 8.50831 18.2032C8.50496 15.7291 9.42921 13.3436 11.0986 11.5176ZM16.3132 27.9027C15.4681 27.7174 15.1353 26.7531 15.5683 26.0044L18.8449 20.3284C18.9695 20.1127 19.1486 19.9336 19.3644 19.8092C19.5801 19.6847 19.8248 19.6192 20.0739 19.6194H26.6253C27.4894 19.6194 28.1568 20.3889 27.8959 21.2114C27.1459 23.5692 25.5427 25.5622 23.4002 26.7999C21.2578 28.0376 18.7305 28.4308 16.3132 27.9027Z" fill="currentColor"></path>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M35.4493 19.6211C35.8254 19.6211 36.1861 19.4717 36.452 19.2058C36.718 18.9398 36.8674 18.5792 36.8674 18.2031C36.8674 17.827 36.718 17.4663 36.452 17.2004C36.1861 16.9344 35.8254 16.785 35.4493 16.785H33.9689C33.8916 15.9188 33.7417 15.0605 33.5208 14.2193L34.9086 13.7145C35.0836 13.6508 35.2444 13.5532 35.3818 13.4274C35.5191 13.3016 35.6303 13.1499 35.7091 12.9811C35.7878 12.8123 35.8325 12.6297 35.8407 12.4436C35.8488 12.2575 35.8202 12.0716 35.7566 11.8965C35.6929 11.7215 35.5953 11.5607 35.4695 11.4234C35.3437 11.286 35.192 11.1748 35.0232 11.096C34.8544 11.0173 34.6717 10.9726 34.4856 10.9644C34.2995 10.9563 34.1137 10.9849 33.9386 11.0485L32.5489 11.5553C32.1783 10.769 31.7426 10.0151 31.2462 9.30151L32.3807 8.35047C32.5265 8.2318 32.6472 8.08532 32.7359 7.91955C32.8246 7.75378 32.8794 7.57202 32.8972 7.38486C32.915 7.1977 32.8954 7.00887 32.8396 6.82935C32.7837 6.64983 32.6927 6.48322 32.5719 6.33919C32.4511 6.19516 32.3028 6.0766 32.1357 5.9904C31.9686 5.9042 31.7861 5.85209 31.5987 5.83709C31.4113 5.8221 31.2228 5.84451 31.0441 5.90304C30.8654 5.96157 30.7002 6.05505 30.558 6.17802L29.4236 7.13095C28.8067 6.51898 28.1402 5.95929 27.4307 5.45766L28.17 4.17574C28.2646 4.01441 28.3263 3.83596 28.3516 3.65067C28.377 3.46538 28.3654 3.27692 28.3176 3.09611C28.2698 2.91531 28.1867 2.74576 28.0731 2.5972C27.9595 2.44864 27.8177 2.32402 27.6557 2.23051C27.4938 2.13701 27.3149 2.07646 27.1295 2.05235C26.944 2.02825 26.7556 2.04106 26.5751 2.09006C26.3947 2.13906 26.2256 2.22327 26.0778 2.33786C25.93 2.45244 25.8064 2.59512 25.7139 2.75769L24.9766 4.03583C24.1868 3.67136 23.3677 3.37409 22.5281 3.14718L22.7852 1.69132C22.8424 1.32449 22.7534 0.949872 22.5374 0.647927C22.3213 0.345982 21.9955 0.140793 21.6299 0.0764287C21.2643 0.0120649 20.888 0.09366 20.5818 0.30369C20.2757 0.51372 20.0641 0.835432 19.9926 1.19973L19.7354 2.65559C18.8691 2.584 17.9983 2.584 17.1319 2.65559L16.8748 1.19973C16.8457 1.01341 16.7798 0.834751 16.6809 0.674208C16.582 0.513665 16.4521 0.374462 16.2987 0.264745C16.1453 0.155028 15.9716 0.077001 15.7878 0.0352296C15.6039 -0.00654172 15.4135 -0.0112185 15.2278 0.021473C15.0421 0.0541646 14.8647 0.123568 14.7062 0.225622C14.5476 0.327675 14.411 0.46033 14.3043 0.615822C14.1976 0.771315 14.123 0.946523 14.0849 1.13119C14.0468 1.31586 14.0458 1.50629 14.0822 1.69132L14.3393 3.14718C13.4923 3.37596 12.6755 3.67659 11.8927 4.03583L11.1553 2.75769C11.0622 2.5963 10.9382 2.45483 10.7904 2.34136C10.6426 2.22788 10.474 2.14463 10.294 2.09634C10.114 2.04806 9.92633 2.0357 9.74159 2.05996C9.55685 2.08422 9.3787 2.14463 9.21731 2.23774C9.05592 2.33085 8.91445 2.45484 8.80097 2.60262C8.6875 2.75041 8.60425 2.9191 8.55596 3.09906C8.50768 3.27902 8.49532 3.46672 8.51958 3.65146C8.54384 3.8362 8.60425 4.01435 8.69736 4.17574L9.43853 5.45766C8.72902 5.95922 8.06245 6.51892 7.4457 7.13095L6.31126 6.17802C6.02318 5.93607 5.65077 5.81847 5.27598 5.8511C4.90119 5.88372 4.55471 6.06389 4.31276 6.35197C4.07081 6.64006 3.95321 7.01246 3.98583 7.38725C4.01845 7.76204 4.19862 8.10852 4.4867 8.35047L5.62114 9.30151C5.12482 10.0151 4.68906 10.769 4.31843 11.5553L2.92874 11.0485C2.57522 10.9199 2.18508 10.937 1.84415 11.096C1.50322 11.2551 1.23943 11.543 1.1108 11.8965C0.982182 12.2501 0.999264 12.6402 1.15829 12.9811C1.31732 13.3221 1.60527 13.5859 1.9588 13.7145L3.34848 14.2193C3.12707 15.0598 2.97655 15.9174 2.89849 16.7831H1.41805C1.04196 16.7831 0.681273 16.9325 0.415337 17.1985C0.149401 17.4644 0 17.8251 0 18.2012C0 18.5773 0.149401 18.938 0.415337 19.2039C0.681273 19.4698 1.04196 19.6192 1.41805 19.6192H2.89849C2.9779 20.4965 3.12916 21.353 3.34848 22.1831L1.9588 22.6898C1.60527 22.8184 1.31732 23.0822 1.15829 23.4231C0.999264 23.764 0.982182 24.1542 1.1108 24.5077C1.23943 24.8612 1.50322 25.1492 1.84415 25.3082C2.18508 25.4672 2.57522 25.4843 2.92874 25.3557L4.31843 24.849C4.6909 25.6374 5.12766 26.3918 5.62303 27.1008L4.4886 28.0538C4.20353 28.2962 4.02585 28.6415 3.99428 29.0144C3.96272 29.3873 4.07982 29.7575 4.32008 30.0444C4.56033 30.3313 4.90425 30.5116 5.27688 30.546C5.64951 30.5805 6.02064 30.4662 6.30937 30.2281L7.4457 29.2733C8.06208 29.884 8.7295 30.4456 9.43853 30.9466L8.69736 32.2323C8.50932 32.5582 8.45845 32.9455 8.55596 33.309C8.65347 33.6724 8.89137 33.9822 9.21731 34.1703C9.54326 34.3583 9.93055 34.4092 10.294 34.3117C10.6574 34.2142 10.9673 33.9763 11.1553 33.6503L11.8927 32.3665C12.6755 32.7296 13.4941 33.0283 14.3393 33.2571L14.0822 34.7129C14.0218 35.081 14.109 35.4581 14.3247 35.7624C14.5405 36.0667 14.8674 36.2738 15.2348 36.3387C15.6021 36.4036 15.9802 36.3211 16.2872 36.1092C16.5942 35.8973 16.8053 35.5729 16.8748 35.2064L17.1338 33.7468C17.9995 33.8185 18.8697 33.8185 19.7354 33.7468L19.9926 35.2064C20.0216 35.3927 20.0875 35.5714 20.1864 35.7319C20.2853 35.8925 20.4153 36.0317 20.5687 36.1414C20.722 36.2511 20.8957 36.3291 21.0796 36.3709C21.2635 36.4127 21.4539 36.4174 21.6396 36.3847C21.8253 36.352 22.0026 36.2826 22.1612 36.1805C22.3197 36.0785 22.4564 35.9458 22.563 35.7903C22.6697 35.6348 22.7443 35.4596 22.7825 35.2749C22.8206 35.0903 22.8215 34.8999 22.7852 34.7148L22.5281 33.2571C23.3671 33.03 24.1855 32.7328 24.9747 32.3684L25.7139 33.6485C25.902 33.9744 26.2118 34.2123 26.5753 34.3098C26.9387 34.4073 27.326 34.3564 27.6519 34.1684C27.9779 33.9804 28.2158 33.6705 28.3133 33.3071C28.4108 32.9436 28.3599 32.5563 28.1719 32.2304L27.4288 30.9466C28.1383 30.445 28.8049 29.8853 29.4217 29.2733L30.558 30.2262C30.8463 30.4679 31.2189 30.5852 31.5937 30.5522C31.9685 30.5192 32.3148 30.3387 32.5565 30.0504C32.7982 29.7621 32.9155 29.3895 32.8825 29.0147C32.8495 28.6399 32.669 28.2936 32.3807 28.0519L31.2462 27.1008C31.7397 26.3918 32.1765 25.6374 32.5508 24.849L33.9405 25.3538C34.1156 25.4174 34.3014 25.4458 34.4875 25.4376C34.6735 25.4293 34.8561 25.3845 35.0248 25.3057C35.1936 25.2268 35.3451 25.1155 35.4708 24.9781C35.5965 24.8407 35.6939 24.6799 35.7575 24.5049C35.8211 24.3298 35.8495 24.144 35.8413 23.9579C35.833 23.7719 35.7882 23.5893 35.7093 23.4206C35.6305 23.2518 35.5192 23.1003 35.3818 22.9746C35.2444 22.8489 35.0836 22.7514 34.9086 22.6879L33.5208 22.1831C33.7382 21.353 33.8895 20.4965 33.9689 19.6192H35.4512L35.4493 19.6211ZM30.4256 13.8355C29.911 12.4188 29.1492 11.1046 28.1757 9.95381C27.2046 8.80802 26.0399 7.84167 24.7345 7.09881C22.8143 6.00644 20.6419 5.43483 18.4327 5.44064C17.656 5.43986 16.8808 5.50947 16.1166 5.64862C14.6855 5.91125 13.3104 6.41845 12.0515 7.14797C9.48405 8.63515 7.51158 10.9664 6.47008 13.7447C6.45167 13.808 6.42892 13.8699 6.40201 13.93C5.91649 15.3022 5.66964 16.7475 5.67219 18.2031C5.66977 20.4409 6.25667 22.6399 7.37387 24.5789C8.49106 26.5179 10.0992 28.1285 12.0364 29.2487L12.0534 29.2582C13.3291 29.997 14.724 30.5076 16.1752 30.767L16.2168 30.7726C17.6981 31.0323 19.2136 31.0298 20.694 30.7651C22.1632 30.5033 23.5745 29.9843 24.8631 29.2317C26.1254 28.4932 27.2521 27.5442 28.1946 26.4259L28.2116 26.407L28.2286 26.388C29.198 25.2285 29.9534 23.9058 30.4597 22.4818C30.938 21.145 31.1971 19.7043 31.1971 18.2031C31.197 16.7139 30.9359 15.2364 30.4256 13.8374V13.8355Z" fill="currentColor"></path>
                  </svg>
                  <span class="text-xs mt-1 font-semibold">تنظیمات</span>
              </button>
          </div>
        </div>


        <!-- Main Content Wrapper -->
        <div id="main-content-wrapper" class="w-full flex-1 relative z-0 min-h-0 overflow-hidden">
                
                <!-- Video Call Container -->
                <div id="video-call-container" class="w-full h-full absolute inset-0 flex flex-col bg-transparent view-hidden">
                  <!-- Video Grid -->
                  <div id="video-grid-container" class="flex-1 grid grid-cols-2 grid-rows-4 p-2 gap-2 min-h-0">
                    <div id="video-slot-1" class="video-slot row-span-2"></div>
                    <div id="video-slot-2" class="video-slot row-span-2"></div>
                    <div id="video-slot-3" class="video-slot"></div>
                    <div id="video-slot-4" class="video-slot"></div>
                    <div id="video-slot-5" class="video-slot"></div>
                    <div id="video-slot-6" class="video-slot"></div>
                  </div>
                  <!-- Video Controls -->
                  <div id="video-controls-bar" class="bg-white/20 backdrop-blur-lg h-16 flex-shrink-0 flex justify-center items-center px-4 border-t border-white/20">
                    <div class="flex justify-center items-center gap-4">
                        <button id="toggle-mic-btn" class="p-3 rounded-2xl transition-colors bg-white/40 disabled:opacity-50">
                            <svg class="w-7 h-7 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><use href="#mic-on-svg" /></svg>
                        </button>
                        <button id="toggle-camera-btn" class="p-3 rounded-2xl transition-colors bg-white/40 disabled:opacity-50">
                             <svg class="w-7 h-7 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><use href="#camera-on-svg" /></svg>
                        </button>
                    </div>
                  </div>
                </div>

                <!-- Chat Container -->
                <div id="chat-container" class="w-full h-full absolute inset-0 flex flex-col bg-transparent">
                  <!-- Messages Container -->
                  <div id="messages-container" class="flex-1 overflow-y-auto p-4 min-h-0">
                    <div id="loading-spinner" class="text-center py-4 hidden">
                        <svg class="animate-spin h-6 w-6 text-blue-400 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    </div>
                    <ul id="messages-list" class="flex flex-col"></ul>
                  </div>
                  <!-- Scroll to Bottom Button -->
                  <button id="scroll-to-bottom-btn" class="absolute bottom-24 right-6 bg-gray-500/50 backdrop-blur-lg text-white w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-opacity duration-300 opacity-0 view-hidden">
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
                  </button>
                  <!-- Message Input -->
                  <div class="flex-shrink-0 h-16 px-2 bg-white/20 backdrop-blur-lg z-10 flex items-center border-t border-white/20">
                    <div class="flex items-center gap-2 w-full">
                        <button type="button" id="send-button" class="flex-shrink-0 w-12 h-12 rounded-full transition-opacity disabled:opacity-40 bg-green-500 text-white flex items-center justify-center" disabled>
                          <svg class="w-7 h-7" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                              <path d="M12 5 L5 15 L19 15 Z" fill="white"/>
                          </svg>
                        </button>
                        <div class="flex-1 relative h-12">
                            <textarea id="message-input" placeholder="پیام..." class="w-full bg-white/50 backdrop-blur-sm text-gray-800 border border-gray-300/50 rounded-2xl py-2.5 pl-12 pr-4 focus:outline-none resize-none h-full overflow-y-auto" inputmode="text"></textarea>
                            <label for="file-input" class="absolute top-1/2 -translate-y-1/2 left-2 p-1 rounded-full transition-colors cursor-pointer persistent-hover-bg">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                   <path d="M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"></path>
                                </svg>
                                <input type="file" id="file-input" class="hidden" accept="image/*,video/*,application/*,text/*"/>
                            </label>
                        </div>
                    </div>
                  </div>
                </div>

        </div>

    </div>
    
    <!-- Username Modal -->
    <div id="username-modal" class="fixed inset-0 bg-transparent flex justify-center items-start sm:items-center z-50 p-4 view-hidden">
      <div class="glass-modal p-6 rounded-2xl shadow-xl w-full max-w-sm text-center mt-8 sm:mt-0">
        <h2 class="text-xl font-bold mb-4 text-gray-800">به پیام رسان آریانا خوش آمدید!</h2>
        <form id="username-form" class="space-y-4">
          <div class="flex flex-col items-center">
              <label for="initial-user-avatar-input" class="cursor-pointer">
                  <div id="initial-user-avatar-preview" class="w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mb-2 overflow-hidden ring-2 ring-white/50">
                      <svg class="w-16 h-16 text-gray-400/80" viewBox="0 0 24 24" fill="currentColor"><use href="#placeholder-person-svg"></use></svg>
                  </div>
              </label>
              <input type="file" id="initial-user-avatar-input" class="hidden" accept="image/*" />
              <span class="text-sm text-gray-600">انتخاب عکس پروفایل</span>
          </div>
          <input type="text" id="username-input" class="w-full bg-gray-200/50 rounded-md p-2 text-right focus:outline-none focus:ring-2 focus:ring-green-400 placeholder:text-gray-500 placeholder:text-sm" placeholder="نام کاربری..." required />
          <input type="password" id="initial-password-input" class="w-full bg-gray-200/50 rounded-md p-2 text-right focus:outline-none focus:ring-2 focus:ring-green-400 placeholder:text-gray-500 placeholder:text-sm" placeholder="رمز برنامه..." required />
          <button type="submit" class="w-full bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600 transition-colors">ورود</button>
        </form>
      </div>
    </div>

    <!-- General Settings Modal -->
    <div id="settings-modal" class="fixed inset-0 bg-black/30 flex justify-center items-center z-50 p-4 view-hidden">
        <div class="glass-modal p-6 rounded-2xl shadow-xl w-full max-w-sm overflow-y-auto max-h-[90vh]">
          <form id="user-settings-form" class="space-y-2">
            <div class="flex flex-col items-center">
                <label for="user-avatar-input" class="cursor-pointer">
                    <div id="user-avatar-preview" class="w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mb-2 overflow-hidden ring-2 ring-white/50">
                        <!-- Avatar will be rendered here -->
                    </div>
                </label>
                <input type="file" id="user-avatar-input" class="hidden" accept="image/*" />
                <span class="text-sm text-gray-600">تغییر عکس پروفایل</span>
            </div>

            <div class="flex items-center">
              <label for="change-username-input" class="w-1/2 text-sm font-medium text-gray-700">نام کاربری</label>
              <div class="w-1/2">
                <input type="text" id="change-username-input" class="w-full bg-white/50 rounded-md p-2 text-right focus:outline-none focus:ring-2 focus:ring-green-400 placeholder:text-gray-500 placeholder:text-sm" />
              </div>
            </div>

            <div class="flex items-center">
              <label class="w-1/2 text-sm font-medium text-gray-700">اندازه فونت پیام‌ها</label>
              <div class="w-1/2 flex gap-1" id="font-size-options">
                <button type="button" data-size="sm" class="font-size-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">کوچک</button>
                <button type="button" data-size="md" class="font-size-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">معمولی</button>
                <button type="button" data-size="lg" class="font-size-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">بزرگ</button>
              </div>
            </div>
            
            <div class="flex items-center">
              <label class="w-1/2 text-sm font-medium text-gray-700">حالت شیشه‌ای</label>
              <div class="w-1/2 flex gap-1" id="glass-mode-options">
                <button type="button" data-glass="off" class="glass-mode-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">خاموش</button>
                <button type="button" data-glass="low" class="glass-mode-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">کم</button>
                <button type="button" data-glass="high" class="glass-mode-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">زیاد</button>
              </div>
            </div>

            <div class="flex items-center">
              <label class="w-1/2 text-sm font-medium text-gray-700">ارسال پیام با اینتر</label>
              <div class="w-1/2 flex gap-1" id="send-with-enter-options">
                <button type="button" data-value="on" class="send-with-enter-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">فعال</button>
                <button type="button" data-value="off" class="send-with-enter-btn p-2 rounded-md bg-white/50 text-gray-800 text-xs flex-1 text-center transition-colors hover:bg-white/80">غیرفعال</button>
              </div>
            </div>
            
            <div>
                <div class="flex items-center">
                   <label class="w-1/2 text-sm font-medium text-gray-700">پس‌زمینه برنامه</label>
                   <div id="static-background-uploader" class="w-1/2">
                       <label for="background-image-input" class="cursor-pointer block w-full text-center bg-white/50 text-gray-800 font-bold py-2 px-4 rounded-md text-xs transition-colors hover:bg-white/80">انتخاب عکس</label>
                       <input type="file" id="background-image-input" class="hidden" accept="image/*" />
                   </div>
                </div>
                 <p id="background-upload-status" class="text-sm text-center h-4"></p>
            </div>
            
            <div class="flex items-center">
              <label class="w-1/2 text-sm font-medium text-gray-700">حذف تمام مکالمات</label>
              <div class="w-1/2">
                <button id="delete-all-messages-btn" type="button" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md text-xs transition-colors">حذف</button>
              </div>
            </div>

            <div class="flex items-center">
              <label class="w-1/2 text-sm font-medium text-gray-700">پاکسازی استدیو</label>
              <div class="w-1/2">
                <button id="clear-studio-cache-btn" type="button" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md text-xs transition-colors">پاکسازی</button>
              </div>
            </div>

            <div class="flex items-center">
              <label class="w-1/2 text-sm font-medium text-gray-700">آپدیت نرم افزار</label>
              <div class="w-1/2">
                <button id="update-app-btn" type="button" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md text-xs transition-colors">بررسی آپدیت</button>
              </div>
            </div>
            <p id="update-status-text" class="text-sm text-center h-4"></p>

            <div class="flex justify-center pt-4 space-x-3 rtl:space-x-reverse border-t border-white/30 mt-4">
               <button id="settings-cancel-btn" type="button" class="w-full glass-button-gray text-gray-800 font-bold py-2 px-4 rounded-md">انصراف</button>
               <button id="settings-ok-btn" type="submit" class="w-full bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600 transition-colors">تایید</button>
            </div>
          </form>

        </div>
    </div>

    <!-- View Avatar Modal -->
    <div id="view-avatar-modal" class="fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4 view-hidden" role="dialog" aria-modal="true">
      <div class="glass-modal p-4 rounded-2xl shadow-xl w-full max-w-sm text-center relative">
        <h3 id="view-avatar-name" class="text-xl font-bold mb-4 text-gray-800"></h3>
        <div id="view-avatar-display" class="w-72 h-72 mx-auto rounded-3xl bg-gray-200 flex items-center justify-center mb-4 overflow-hidden ring-4 ring-white/50">
            <!-- Large avatar will be rendered here -->
        </div>
        <button id="close-view-avatar-modal" class="w-full glass-button-gray text-gray-800 font-bold py-2 px-4 rounded-md mt-2">بستن</button>
      </div>
    </div>

    <!-- Change User Avatar In-Chat Modal -->
    <div id="change-user-avatar-in-chat-modal" class="fixed inset-0 bg-black/30 flex justify-center items-center z-50 p-4 view-hidden">
        <div class="glass-modal p-6 rounded-2xl shadow-xl w-full max-w-sm">
          <h2 class="text-xl font-bold mb-4 text-center text-gray-800">تغییر عکس پروفایل</h2>
          <form id="change-user-avatar-in-chat-form">
            <div class="flex flex-col items-center space-y-4">
               <label for="user-avatar-in-chat-input" class="cursor-pointer">
                   <div id="user-avatar-in-chat-preview" class="w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden ring-2 ring-white/50">
                       <!-- User avatar preview -->
                   </div>
                   <span class="text-sm text-gray-600 mt-2 block text-center">انتخاب عکس جدید</span>
               </label>
               <input type="file" id="user-avatar-in-chat-input" class="hidden" accept="image/*" />
            </div>
            <p id="change-user-avatar-in-chat-status" class="text-sm mt-2 text-center h-4"></p>
            <div class="mt-4 flex justify-center space-x-3 rtl:space-x-reverse">
              <button type="button" class="cancel-btn glass-button-gray text-gray-800 font-bold py-2 px-4 rounded-md">انصراف</button>
              <button type="submit" class="bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600">ذخیره</button>
            </div>
          </form>
        </div>
    </div>
    
    <!-- File Upload Confirmation Modal -->
    <div id="file-confirm-modal" class="fixed inset-0 bg-black/30 flex justify-center items-center z-50 p-4 view-hidden">
      <div class="glass-modal p-6 rounded-2xl shadow-xl w-full max-w-sm">
        <h2 class="text-xl font-bold mb-4 text-center text-gray-800">ارسال فایل</h2>
        <div id="file-preview-container" class="w-full h-48 bg-gray-200/50 rounded-lg flex items-center justify-center mb-4 overflow-hidden p-2">
          <!-- File preview will be injected here -->
        </div>
        <p id="file-confirm-status" class="text-sm text-center h-4 mb-4">برای ارسال تایید کنید.</p>
        <div class="mt-4 flex justify-end space-x-3 rtl:space-x-reverse">
          <button type="button" id="cancel-file-upload" class="glass-button-gray text-gray-800 font-bold py-2 px-4 rounded-md">انصراف</button>
          <button type="button" id="confirm-file-upload" class="bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600">تایید</button>
        </div>
      </div>
    </div>
    
    <!-- Video Call Icon Templates -->
    <div class="hidden">
      <svg id="mic-on-svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg>
      <svg id="camera-on-svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"></path></svg>
      <svg id="placeholder-person-svg" class="w-16 h-16 text-gray-400/80" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></svg>
    </div>

    <audio id="send-sound" src="data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YUFOSE9PZw==" preload="auto"></audio>

    <script type="module" src="./main.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then(registration => console.log('Service Worker registered:', registration))
            .catch(error => console.log('Service Worker registration failed:', error));
        });
      }
    </script>
</body>
</html>